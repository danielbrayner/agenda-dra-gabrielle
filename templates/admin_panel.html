<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Painel Administrativo - Dra. Gabrielle</title>
</head>
<body>

<h1>Painel da Dra. Gabrielle</h1>

<a href="/admin/logout">Sair</a>

<hr>

<h2>Consultas agendadas</h2>

{% if consultas %}
<table border="1" cellpadding="5">
    <tr>
        <th>Data</th>
        <th>Horário</th>
        <th>Paciente</th>
        <th>Ação</th>
    </tr>
    {% for c in consultas %}
    <tr>
        <td>{{ c["data"] }}</td>
        <td>{{ c["horario"] }}</td>
        <td>{{ c["nome_paciente"] }}</td>
        <td>
            <a href="/admin/excluir/{{ c['id'] }}"
               onclick="return confirm('Deseja cancelar esta consulta?')">
               Excluir
            </a>
        </td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>Nenhuma consulta agendada.</p>
{% endif %}

<hr>

<h2>Horários livres</h2>

{% if horarios_livres %}
<table border="1" cellpadding="5">
    <tr>
        <th>Data</th>
        <th>Horário</th>
    </tr>
    {% for h in horarios_livres %}
    <tr>
        <td>{{ h["data"] }}</td>
        <td>{{ h["horario"] }}</td>
    </tr>
    {% endfor %}
</table>
{% else %}
<p>Nenhum horário livre cadastrado.</p>
{% endif %}

<hr>

<h2>Adicionar novo horário</h2>

<form method="POST" action="/admin/adicionar-horario">
    <label>Data:</label>
    <input type="date" name="data" required>

    <label>Horário:</label>
    <input type="time" name="horario" required>

    <button type="submit">Adicionar</button>
</form>

</body>
</html>
